name: Production Change

on:
  workflow_dispatch:
    inputs:
      tag:
        required: true
      environment:
        required: true
      region:
        required: true
      action:
        required: true

jobs:
  change:
    name: "${{ inputs.action == 'rollback' && 'â†© Rollback Service' || ' Deploy Service' }}"
    runs-on: ubuntu-latest

    steps:
      - name: Apply change
        run: |
          if [ "${{ inputs.action }}" = "rollback" ]; then
            echo "Rollback Service : ${{ github.repository }}"
            echo "Rollback Version : ${{ inputs.tag }}"
          else
            echo "Deploy Service   : ${{ github.repository }}"
            echo "Deploy Version   : ${{ inputs.tag }}"
          fi

          echo "Environment : ${{ inputs.environment }}"
          echo "Region      : ${{ inputs.region }}"
